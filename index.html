<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Birthday Surprise</title>
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- React & ReactDOM -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <!-- Babel -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <style>
    @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@300;500;800&display=swap');

    body {
      font-family: 'Tajawal', sans-serif;
    }

    @keyframes float {
      0% {
        transform: translateY(0px);
      }

      50% {
        transform: translateY(-20px);
      }

      100% {
        transform: translateY(0px);
      }
    }

    @keyframes rise {
      0% {
        bottom: -10vh;
        opacity: 1;
      }

      100% {
        bottom: 120vh;
        opacity: 0;
      }
    }

    @keyframes fall {
      0% {
        top: -10%;
        transform: rotate(0deg);
      }

      100% {
        top: 110%;
        transform: rotate(720deg);
      }
    }

    @keyframes pulse-glow {

      0%,
      100% {
        box-shadow: 0 0 10px rgba(236, 72, 153, 0.2);
        transform: scale(1);
      }

      50% {
        box-shadow: 0 0 25px rgba(236, 72, 153, 0.6);
        transform: scale(1.02);
      }
    }

    @keyframes flicker {
      0% {
        transform: scale(1);
        opacity: 1;
      }

      50% {
        transform: scale(1.1) rotate(-2deg);
        opacity: 0.8;
      }

      100% {
        transform: scale(0.95) rotate(2deg);
        opacity: 1;
      }
    }

    @keyframes shake {

      0%,
      100% {
        transform: translateX(0);
      }

      25% {
        transform: translateX(-5px);
      }

      75% {
        transform: translateX(5px);
      }
    }

    @keyframes wave {

      0%,
      100% {
        height: 10%;
      }

      50% {
        height: 100%;
      }
    }

    @keyframes spin {
      from {
        transform: rotate(0deg);
      }

      to {
        transform: rotate(360deg);
      }
    }

    .glass-card {
      background: rgba(255, 255, 255, 0.35);
      backdrop-filter: blur(16px);
      -webkit-backdrop-filter: blur(16px);
      border: 1px solid rgba(255, 255, 255, 0.6);
      box-shadow: 0 10px 40px 0 rgba(31, 38, 135, 0.15);
    }

    .animate-flame {
      animation: flicker 0.6s infinite alternate;
    }

    .animate-shake {
      animation: shake 0.3s ease-in-out;
    }

    .animate-wave {
      animation: wave 1s ease-in-out infinite;
    }

    .animate-wiggle {
      animation: float 3s ease-in-out infinite;
    }
  </style>
</head>

<body class="bg-gradient-to-br from-pink-100 via-rose-200 to-pink-300 min-h-screen overflow-hidden">
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useEffect, useRef, useMemo } = React;

    // --- Icons (Inline SVGs) ---
    const Icon = ({ path, className, size = 24, fill = "none" }) => (
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width={size}
        height={size}
        viewBox="0 0 24 24"
        fill={fill}
        stroke="currentColor"
        strokeWidth="2"
        strokeLinecap="round"
        strokeLinejoin="round"
        className={className}
      >
        {path}
      </svg>
    );

    const Heart = (props) => <Icon {...props} path={<path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z" />} />;
    const Gift = (props) => <Icon {...props} path={<><rect x="3" y="8" width="18" height="4" rx="1" /><path d="M12 8v13" /><path d="M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7" /><path d="M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5" /></>} />;
    const Music = (props) => <Icon {...props} path={<><path d="M9 18V5l12-2v13" /><circle cx="6" cy="18" r="3" /><circle cx="18" cy="16" r="3" /></>} />;
    const Stars = (props) => <Icon {...props} path={<><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z" /><path d="M5 3v4" /><path d="M9 5H3" /></>} />;
    const Sparkles = (props) => <Icon {...props} path={<><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1-1.275-1.275L12 3Z" /></>} />;
    const Lock = (props) => <Icon {...props} path={<><rect width="18" height="11" x="3" y="11" rx="2" ry="2" /><path d="M7 11V7a5 5 0 0 1 10 0v4" /></>} />;
    const Unlock = (props) => <Icon {...props} path={<><rect width="18" height="11" x="3" y="11" rx="2" ry="2" /><path d="M7 11V7a5 5 0 0 1 9.9-1" /></>} />;
    const Key = (props) => <Icon {...props} path={<><circle cx="7.5" cy="15.5" r="5.5" /><path d="m21 2-9.6 9.6" /><path d="m15.5 7.5 3 3L22 7l-3-3" /></>} />;
    const Send = (props) => <Icon {...props} path={<><path d="m22 2-7 20-4-9-9-4Z" /><path d="M22 2 11 13" /></>} />;
    const X = (props) => <Icon {...props} path={<><path d="M18 6 6 18" /><path d="m6 6 12 12" /></>} />;
    const Play = (props) => <Icon {...props} path={<polygon points="5 3 19 12 5 21 5 3" />} />;
    const Pause = (props) => <Icon {...props} path={<><rect x="6" y="4" width="4" height="16" /><rect x="14" y="4" width="4" height="16" /></>} />;
    const Mic = (props) => <Icon {...props} path={<><path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z" /><path d="M19 10v2a7 7 0 0 1-14 0v-2" /><line x1="12" y1="19" x2="12" y2="23" /><line x1="8" y1="23" x2="16" y2="23" /></>} />;
    const Calendar = (props) => <Icon {...props} path={<><rect x="3" y="4" width="18" height="18" rx="2" ry="2" /><line x1="16" y1="2" x2="16" y2="6" /><line x1="8" y1="2" x2="8" y2="6" /><line x1="3" y1="10" x2="21" y2="10" /></>} />;
    const Camera = (props) => <Icon {...props} path={<><path d="M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z" /><circle cx="12" cy="13" r="3" /></>} />;


    const BirthdayApp = () => {
      const [isOpened, setIsOpened] = useState(false);
      const [balloons, setBalloons] = useState([]);
      const [confetti, setConfetti] = useState([]);

      // Game States
      const [showGame, setShowGame] = useState(false);
      const [currentLevel, setCurrentLevel] = useState(0);
      const [answer, setAnswer] = useState('');
      const [error, setError] = useState(false);
      const [gameCompleted, setGameCompleted] = useState(false);

      // Audio Player State
      const [isPlaying, setIsPlaying] = useState(false);
      const audioRef = useRef(null);

      // --- رابط الريكورد ---
      const recordUrl = "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3";

      // --- صور الذكريات ---
      const memories = [
        "https://images.unsplash.com/photo-1513201099705-a9746e1e201f?auto=format&fit=crop&w=400&q=80",
        "https://images.unsplash.com/photo-1527529482837-4698179dc6ce?auto=format&fit=crop&w=400&q=80",
        "https://images.unsplash.com/photo-1464349153912-d04643ee5036?auto=format&fit=crop&w=400&q=80"
      ];

      // --- الألغاز ---
      const riddles = [
        {
          id: 1,
          question: "شيء لك، ولكن الناس يستخدمونه أكثر منك.. فما هو؟",
          answers: ["اسمك", "الاسم", "إسمي", "اسمي"]
        },
        {
          id: 2,
          question: "كلما أخذت منه كبر.. فما هو؟",
          answers: ["الحفرة", "حفرة", "الحفره"]
        },
        {
          id: 3,
          question: "شيء يكتب ولا يقرأ.. فما هو؟",
          answers: ["القلم", "قلم"]
        }
      ];

      // Fix: Generate background particles once to avoid re-render warnings
      const backgroundParticles = useMemo(() => {
        return Array.from({ length: 20 }).map((_, i) => ({
          id: i,
          width: Math.random() * 15 + 5,
          height: Math.random() * 15 + 5,
          top: Math.random() * 100,
          left: Math.random() * 100,
          duration: Math.random() * 5 + 3,
          delay: Math.random() * 5
        }));
      }, []);

      const handleAnswerSubmit = (e) => {
        e.preventDefault();
        const currentRiddle = riddles[currentLevel];
        if (currentRiddle.answers.some(a => a === answer.trim())) {
          setAnswer('');
          setError(false);
          if (currentLevel < riddles.length - 1) {
            setCurrentLevel(prev => prev + 1);
          } else {
            setGameCompleted(true);
          }
        } else {
          setError(true);
          setTimeout(() => setError(false), 500);
        }
      };

      const toggleAudio = () => {
        if (audioRef.current) {
          if (isPlaying) {
            audioRef.current.pause();
          } else {
            audioRef.current.play();
          }
          setIsPlaying(!isPlaying);
        }
      };

      useEffect(() => {
        if (!showGame && isPlaying && audioRef.current) {
          audioRef.current.pause();
          setIsPlaying(false);
        }
      }, [showGame]);

      // Generate random balloons and confetti ONLY when opened
      useEffect(() => {
        if (isOpened) {
          const newBalloons = Array.from({ length: 20 }).map((_, i) => ({
            id: i,
            left: Math.random() * 100,
            delay: Math.random() * 5,
            speed: 8 + Math.random() * 10,
            color: ['bg-pink-400', 'bg-rose-300', 'bg-pink-200', 'bg-white'][Math.floor(Math.random() * 4)]
          }));
          setBalloons(newBalloons);

          const newConfetti = Array.from({ length: 60 }).map((_, i) => ({
            id: i,
            left: Math.random() * 100,
            delay: Math.random() * 2,
            duration: 3 + Math.random() * 2, // Fix: Store duration in state
            color: ['#F472B6', '#FB7185', '#FBCFE8', '#FFF'][Math.floor(Math.random() * 4)]
          }));
          setConfetti(newConfetti);
        }
      }, [isOpened]);

      return (
        <div className="h-screen w-full bg-gradient-to-br from-pink-100 via-rose-200 to-pink-300 overflow-hidden relative font-sans" dir="rtl">

          {/* Background Floating Particles (Fixed Layer) */}
          <div className="absolute inset-0 pointer-events-none z-0">
            {backgroundParticles.map((p) => (
              <div key={p.id} className="absolute rounded-full bg-white opacity-30"
                style={{
                  width: p.width + 'px',
                  height: p.height + 'px',
                  top: p.top + '%',
                  left: p.left + '%',
                  animation: `float ${p.duration}s infinite ease-in-out ${p.delay}s`
                }}
              />
            ))}
          </div>

          {/* --- SLIDING CONTAINER (The core of the scroll effect) --- */}
          <div
            className={`w-full h-[200vh] transition-transform duration-[1500ms] ease-in-out will-change-transform ${isOpened ? '-translate-y-[100vh]' : 'translate-y-0'}`}
          >

            {/* === SECTION 1: INTRO === */}
            <div className="h-[100vh] w-full flex items-center justify-center p-4 relative">
              <div className="glass-card p-10 rounded-3xl text-center max-w-md w-full transform hover:scale-105 transition-transform duration-500">
                <div className="mb-6 flex justify-center">
                  <div className="p-4 bg-pink-100 rounded-full text-pink-500 shadow-xl ring-4 ring-pink-50">
                    <Gift size={48} className="animate-wiggle" />
                  </div>
                </div>

                <h1 className="text-3xl md:text-5xl font-extrabold text-pink-600 mb-4 tracking-wide">مفاجأة خاصة</h1>

                <div className="flex items-center justify-center gap-2 text-pink-500 mb-6 font-bold bg-white/40 py-2 px-4 rounded-full w-fit mx-auto">
                  <Calendar size={18} />
                  <span>3 / 1 / 2026</span>
                </div>

                <p className="text-pink-800 mb-8 text-xl font-medium">
                  هناك رسالة تنتظر أجمل شخص اليوم...
                </p>

                <button
                  onClick={() => setIsOpened(true)}
                  className="group relative px-8 py-4 rounded-full bg-gradient-to-r from-pink-500 to-rose-500 text-white font-bold text-xl shadow-lg hover:shadow-pink-500/50 transition-all active:scale-95 animate-[pulse-glow_2s_infinite]"
                >
                  <span className="flex items-center gap-3">
                    اضغطي هنا يا ندى
                    <Sparkles size={24} className="group-hover:animate-spin" />
                  </span>
                </button>
              </div>
            </div>

            {/* === SECTION 2: CELEBRATION === */}
            <div className="h-[100vh] w-full flex items-center justify-center p-4 relative">
              <div className="glass-card p-4 md:p-10 rounded-3xl text-center max-w-2xl w-full relative z-10 flex flex-col items-center justify-center">

                {/* Decoration Icons */}
                <div className="absolute -top-6 -left-6 text-yellow-400 animate-[spin_10s_linear_infinite]"><Stars size={50} fill="currentColor" /></div>
                <div className="absolute -bottom-6 -right-6 text-pink-400 animate-bounce"><Heart size={50} fill="currentColor" /></div>

                {/* Cake (Smaller to fit images) */}
                <div className="flex justify-center mb-4 mt-2 transform hover:scale-105 transition-transform duration-500 scale-75 md:scale-90">
                  <div className="relative w-48 h-40">
                    <div className="absolute bottom-0 left-1/2 transform -translate-x-1/2 w-56 h-4 bg-white/50 rounded-full shadow-lg"></div>
                    <div className="absolute bottom-2 left-1/2 transform -translate-x-1/2 w-48 h-20 bg-rose-300 rounded-lg shadow-inner flex items-end justify-center overflow-hidden border-2 border-rose-400/30">
                      <div className="w-full h-full opacity-20 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-white to-transparent"></div>
                    </div>
                    <div className="absolute bottom-16 left-1/2 transform -translate-x-1/2 w-52 h-6 bg-pink-400 rounded-full z-10 shadow-sm"></div>
                    <div className="absolute bottom-16 left-1/2 transform -translate-x-1/2 w-36 h-16 bg-pink-200 rounded-lg shadow-inner border-2 border-pink-300/30 z-10 flex justify-center">
                      <div className="absolute top-1/2 left-4 w-3 h-3 bg-red-400 rounded-full opacity-60"></div>
                      <div className="absolute top-1/3 right-4 w-3 h-3 bg-red-400 rounded-full opacity-60"></div>
                    </div>
                    <div className="absolute bottom-[7.5rem] left-1/2 transform -translate-x-1/2 w-40 h-6 bg-white rounded-full z-20 shadow-sm"></div>
                    <div className="absolute bottom-[8rem] left-1/2 transform -translate-x-1/2 flex gap-3 z-30">
                      {[0, 1, 2].map(i => (
                        <div key={i} className={`relative w-3 ${i === 1 ? 'h-12 -mt-2' : 'h-10'} bg-gradient-to-t from-yellow-100 to-yellow-200 rounded-sm shadow-sm`}>
                          <div className={`absolute -top-4 left-1/2 transform -translate-x-1/2 w-4 h-6 bg-orange-400 rounded-[50%] animate-flame shadow-[0_0_15px_rgba(251,146,60,0.8)] border-2 border-yellow-200`} style={{ animationDelay: `${i * 75}ms` }}></div>
                        </div>
                      ))}
                    </div>
                  </div>
                </div>

                <h1 className="text-2xl md:text-5xl font-extrabold bg-clip-text text-transparent bg-gradient-to-r from-pink-600 to-rose-500 mb-2 drop-shadow-sm">
                  عيد ميلاد سعيد يا ندى
                </h1>

                <div className="flex items-center justify-center gap-2 text-pink-700/80 mb-4 font-bold text-sm md:text-base">
                  <Calendar size={18} />
                  <span>3 / 1 / 2026</span>
                </div>

                {/* --- IMAGE GALLERY SECTION --- */}
                <div className="flex justify-center gap-3 md:gap-6 mb-8 w-full max-w-lg mx-auto">
                  {memories.map((img, idx) => (
                    <div
                      key={idx}
                      className={`relative group cursor-pointer transition-all duration-500 hover:z-20 hover:scale-125 hover:rotate-0
                                   ${idx === 0 ? '-rotate-6' : idx === 1 ? 'rotate-3 translate-y-2' : '-rotate-3'}
                                `}
                    >
                      <div className="p-1.5 md:p-2 bg-white rounded-md shadow-md hover:shadow-xl transition-shadow">
                        <div className="w-20 h-20 md:w-28 md:h-28 overflow-hidden rounded-sm relative">
                          <img src={img} alt={`Memory ${idx + 1}`} className="w-full h-full object-cover" />
                          <div className="absolute inset-0 bg-pink-500/0 group-hover:bg-pink-500/10 transition-colors"></div>
                        </div>
                      </div>
                    </div>
                  ))}
                </div>

                <p className="text-sm md:text-lg text-gray-700 font-medium leading-relaxed mb-6">
                  كل سنة وأنتي طيبة، وكل سنة وأنتي الأجمل.
                </p>

                {/* Game Trigger Button */}
                <div>
                  <button
                    onClick={() => setShowGame(true)}
                    className="bg-white/60 hover:bg-white text-pink-600 px-6 py-3 rounded-xl shadow-lg border-2 border-pink-200 font-bold flex items-center gap-2 mx-auto transition-all transform hover:scale-105 active:scale-95 text-sm md:text-base"
                  >
                    <Key size={20} />
                    يوجد رسالة سرية (اضغطي للفتح)
                  </button>
                </div>
              </div>
            </div>

          </div>

          {/* --- OVERLAYS (Fixed on top of everything) --- */}

          {/* Balloons - Fix: Combined animation and delay into one property */}
          {isOpened && balloons.map((b) => (
            <div key={b.id} className={`absolute bottom-[-10vh] w-8 h-10 rounded-full opacity-80 z-20 ${b.color}`}
              style={{
                left: `${b.left}%`,
                animation: `rise ${b.speed}s linear ${b.delay}s forwards`,
                boxShadow: 'inset -5px -5px 10px rgba(0,0,0,0.1)'
              }}>
              <div className="absolute bottom-[-10px] left-1/2 w-[1px] h-[10px] bg-gray-400"></div>
            </div>
          ))}

          {/* Confetti - Fix: Combined animation and delay into one property */}
          {isOpened && confetti.map((c) => (
            <div key={c.id} className="absolute w-3 h-3 rounded-sm z-20"
              style={{
                backgroundColor: c.color,
                left: `${c.left}%`,
                animation: `fall ${c.duration}s linear ${c.delay}s infinite`
              }} />
          ))}

          {/* --- GAME MODAL --- */}
          {showGame && (
            <div className="fixed inset-0 z-50 flex items-center justify-center p-4 bg-pink-900/40 backdrop-blur-sm animate-[popIn_0.3s_ease-out]">
              <div className="glass-card bg-white/90 p-6 md:p-8 rounded-3xl w-full max-w-lg shadow-2xl relative">

                <button onClick={() => setShowGame(false)} className="absolute top-4 right-4 text-pink-400 hover:text-pink-600 transition-colors">
                  <X size={24} />
                </button>

                {!gameCompleted ? (
                  /* RIDDLE STAGE */
                  <div className="text-center">
                    <div className="flex justify-center mb-4">
                      <div className="w-16 h-16 bg-pink-100 rounded-full flex items-center justify-center text-pink-500 shadow-inner">
                        <Lock size={32} />
                      </div>
                    </div>

                    <div className="mb-2 text-sm font-bold text-pink-400 tracking-wider">
                      لغز {currentLevel + 1} من {riddles.length}
                    </div>

                    <h2 className="text-2xl font-bold text-gray-800 mb-6 leading-relaxed">
                      {riddles[currentLevel].question}
                    </h2>

                    <form onSubmit={handleAnswerSubmit} className="space-y-4">
                      <input
                        type="text"
                        value={answer}
                        onChange={(e) => setAnswer(e.target.value)}
                        placeholder="اكتبي الإجابة هنا..."
                        className={`w-full p-4 rounded-xl text-center text-lg outline-none border-2 transition-all bg-white/50
                                        ${error ? 'border-red-400 text-red-500 animate-shake bg-red-50' : 'border-pink-200 focus:border-pink-400 text-gray-700'}
                                    `}
                      />
                      <button
                        type="submit"
                        className="w-full bg-gradient-to-r from-pink-500 to-rose-500 text-white p-3 rounded-xl font-bold text-lg shadow-md hover:shadow-lg transition-transform active:scale-95 flex items-center justify-center gap-2"
                      >
                        تأكيد الإجابة <Send size={18} />
                      </button>
                    </form>
                    {error && <p className="text-red-500 text-sm mt-2 font-bold">الإجابة غير صحيحة، حاولي تاني!</p>}
                  </div>
                ) : (
                  /* SUCCESS / SECRET MESSAGE STAGE */
                  <div className="text-center">
                    <div className="flex justify-center mb-6">
                      <div className="w-20 h-20 bg-green-100 rounded-full flex items-center justify-center text-green-500 shadow-inner ring-4 ring-green-50 animate-[popIn_0.5s_backwards]">
                        <Unlock size={40} />
                      </div>
                    </div>

                    <h2 className="text-3xl font-extrabold text-pink-600 mb-4">
                      مبروك! فتحتي الرسالة
                    </h2>

                    <div className="bg-white/40 p-6 rounded-2xl border-2 border-pink-100 relative overflow-hidden text-right">
                      <div className="absolute top-0 right-0 p-2 opacity-10"><Heart size={100} /></div>

                      <p className="text-lg text-gray-800 leading-loose font-medium relative z-10 mb-6">
                        "كل سنة وانتي طيبة يا ندى.. أنتي مش بس شخص عادي، أنتي أجمل حاجة حصلت. أتمنى ليكي سنة كلها نجاح وفرحة زي قلبك الجميل."
                      </p>

                      {/* --- CUSTOM AUDIO PLAYER --- */}
                      <div className="relative z-10 bg-gradient-to-r from-pink-50 to-white p-4 rounded-xl border border-pink-200 shadow-sm flex items-center gap-4">

                        <button
                          onClick={toggleAudio}
                          className="flex-shrink-0 w-12 h-12 bg-gradient-to-r from-pink-500 to-rose-500 rounded-full flex items-center justify-center text-white shadow-md hover:scale-105 transition-transform"
                        >
                          {isPlaying ? <Pause size={20} fill="currentColor" /> : <Play size={20} fill="currentColor" className="ml-1" />}
                        </button>

                        <div className="flex-1 flex flex-col justify-center gap-1">
                          <div className="flex items-center gap-2 text-xs font-bold text-pink-400">
                            <Mic size={12} />
                            <span>تسجيل صوتي خاص</span>
                          </div>

                          <div className="flex items-center gap-1 h-6 w-full">
                            {[...Array(20)].map((_, i) => (
                              <div
                                key={i}
                                className={`w-1 bg-pink-300 rounded-full transition-all duration-300 ${isPlaying ? 'animate-wave' : 'h-1'}`}
                                style={{
                                  height: isPlaying ? undefined : '4px',
                                  animationDelay: `${i * 0.05}s`
                                }}
                              ></div>
                            ))}
                          </div>
                        </div>

                        <audio ref={audioRef} src={recordUrl} onEnded={() => setIsPlaying(false)} className="hidden" />
                      </div>

                    </div>

                    <button
                      onClick={() => { setShowGame(false); setIsOpened(true); }}
                      className="mt-6 text-pink-500 hover:text-pink-700 font-bold underline"
                    >
                      العودة للاحتفال
                    </button>
                  </div>
                )}
              </div>
            </div>
          )}

        </div>
      );
    };

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<BirthdayApp />);
  </script>
</body>

</html>